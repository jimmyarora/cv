<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Share UPI QR Code</title>
    <script src="https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js"></script>
</head>
<body>
    <h1>UPI Payment QR Code</h1>

    <div>
        <!-- Display the QR code here -->
        <canvas id="qr-code"></canvas>
    </div>

    <!-- Button to share QR code -->
    <button id="shareButton">hare QR Code</button>

    <script>
        // Generate the QR code using QRious
        var qr = new QRious({
            element: document.getElementById('qr-code'),
            value: 'upi://pay?pa=q829249314@ybl&pn=admin&tr=restorent-20240906-130952-47&tn=restorent payment&am=2.0&cu=INR',
            size: 200
        });

        const canvas = document.getElementById('qr-code');

        document.getElementById('shareButton').addEventListener('click', function() {
            // Convert the QR code canvas to a Blob (image)
            canvas.toBlob(function(blob) {
                if (!navigator.canShare) {
                    alert('Your browser does not support the Web Share API.');
                    return;
                }

                // Check if sharing files is supported
                if (navigator.canShare({ files: [new File([blob], 'upi_qr_code.png')] })) {
                    const file = new File([blob], 'upi_qr_code.png', {
                        type: 'image/png'
                    });

                    // Use the Web Share API to share the file
                    navigator.share({
                        title: 'UPI Payment QR Code',
                        files: [file]
                    }).then(() => {
                        console.log('Sharing successful!');
                    }).catch((error) => {
                        console.error('Error sharing:', error);
                    });
                } else {
                    alert('Your browser does not support sharing files.');
                }
            });
        });
    </script>
</body>
</html>
